{"ast":null,"code":"import React,{useEffect,useRef,useState}from\"react\";import{useDispatchCart,useCart}from\"./ContextReducer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Card(props){let dispatch=useDispatchCart();let data=useCart();const priceRef=useRef();let options=props.options;let priceOptions=Object.keys(options);const[qty,setQty]=useState(1);const[size,setSize]=useState(\"\");const handleAddToCart=async()=>{await dispatch({type:\"ADD\",id:props.foodItem._id,name:props.foodItem.name,price:finalPrice,qty:qty,size:size});console.log(data);};let finalPrice=qty*parseInt(options[size]);useEffect(()=>{setSize(priceRef.current.value);},[]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"card mt-5\",style:{width:\"18rem\",maxHeight:\"360px\",boxShadow:\"8px 8px 5px gray\"},children:[/*#__PURE__*/_jsx(\"img\",{className:\"card-img-top\",src:props.foodItem.img,alt:\"Card image cap\",style:{height:\"180px\",objectFit:\"cover\"}}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:props.foodItem.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"container w-100\",children:[/*#__PURE__*/_jsx(\"select\",{className:\"m-2 h-100 bg-success rounded\",onChange:e=>setQty(e.target.value),children:Array.from(Array(6),(e,i)=>{return/*#__PURE__*/_jsx(\"option\",{value:i+1,children:i+1},i+1);})}),/*#__PURE__*/_jsx(\"select\",{className:\"m-2 h-100 bg-success rounded\",ref:priceRef,onChange:e=>setSize(e.target.value),children:priceOptions.map(data=>{return/*#__PURE__*/_jsx(\"option\",{value:data,children:data},data);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-100 d-inline fs-5\",children:[\"\\u20B9\",finalPrice,\"/-\"]})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success justify-center mx-1\",onClick:handleAddToCart,children:\"Add to Cart\"})]})]})});}","map":{"version":3,"names":["React","useEffect","useRef","useState","useDispatchCart","useCart","jsx","_jsx","jsxs","_jsxs","Card","props","dispatch","data","priceRef","options","priceOptions","Object","keys","qty","setQty","size","setSize","handleAddToCart","type","id","foodItem","_id","name","price","finalPrice","console","log","parseInt","current","value","children","className","style","width","maxHeight","boxShadow","src","img","alt","height","objectFit","onChange","e","target","Array","from","i","ref","map","onClick"],"sources":["C:/Users/Subhi/OneDrive/Desktop/FOODIES/the-foodies/src/components/Card.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport { useDispatchCart, useCart } from \"./ContextReducer\";\r\n\r\nexport default function Card(props) {\r\n  let dispatch = useDispatchCart();\r\n  let data = useCart();\r\n  const priceRef = useRef();\r\n  let options = props.options;\r\n  let priceOptions = Object.keys(options);\r\n  const [qty, setQty] = useState(1);\r\n  const [size, setSize] = useState(\"\");\r\n\r\n  const handleAddToCart = async () => {\r\n    await dispatch({ type: \"ADD\", id: props.foodItem._id, name: props.foodItem.name, price: finalPrice, qty: qty, size: size })\r\n    console.log(data);\r\n  }\r\n\r\n  let finalPrice = qty * parseInt(options[size]);\r\n  useEffect(() => {\r\n    setSize(priceRef.current.value)\r\n  }, [])\r\n\r\n\r\n  return (\r\n    <div>\r\n      <div\r\n        className=\"card mt-5\"\r\n        style={{\r\n          width: \"18rem\",\r\n          maxHeight: \"360px\",\r\n          boxShadow: \"8px 8px 5px gray\",\r\n        }}\r\n      >\r\n        <img\r\n          className=\"card-img-top\"\r\n          src={props.foodItem.img}\r\n          alt=\"Card image cap\"\r\n          style={{\r\n            height: \"180px\",\r\n            objectFit: \"cover\",\r\n          }}\r\n        />\r\n        <div className=\"card-body\">\r\n          <h5 className=\"card-title\">{props.foodItem.name}</h5>\r\n          <div className=\"container w-100\">\r\n            <select className=\"m-2 h-100 bg-success rounded\" onChange={(e) => setQty(e.target.value)}>\r\n              {Array.from(Array(6), (e, i) => {\r\n                return (\r\n                  <option key={i + 1} value={i + 1}>\r\n                    {i + 1}\r\n                  </option>\r\n                );\r\n              })}\r\n            </select>\r\n\r\n            <select className=\"m-2 h-100 bg-success rounded\" ref={priceRef} onChange={(e) => setSize(e.target.value)}>\r\n              {priceOptions.map((data) => {\r\n                return (\r\n                  <option key={data} value={data}>\r\n                    {data}\r\n                  </option>\r\n                );\r\n              })}\r\n            </select>\r\n\r\n            <div className=\"w-100 d-inline fs-5\">â‚¹{finalPrice}/-</div>\r\n          </div>\r\n          <hr></hr>\r\n          <button className=\"btn btn-success justify-center mx-1\" onClick={handleAddToCart}>Add to Cart</button>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}