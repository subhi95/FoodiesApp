{"ast":null,"code":"import{useState,useEffect}from\"react\";import React from\"react\";import Navbar from\"../components/Navbar\";import Footer from\"../components/Footer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function MyOrder(){const[orderData,setOrderData]=useState({});const fetchMyOrder=async()=>{try{const response=await fetch(\"http://localhost:4000/api/MyOrder_data\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email:localStorage.getItem(\"userEmail\")})});const data=await response.json();console.log(data.orderData.order_data);// Check if orderData exists and has order_data property\nif(data.orderData){setOrderData(data.orderData);}else{setOrderData([]);// No data available\n}}catch(error){console.error(\"Error fetching data:\",error);}};useEffect(()=>{fetchMyOrder();},[]);// useEffect(() => {\n//     console.log(\"orderData:\", orderData);\n// }, [orderData]);\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Navbar,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:orderData&&orderData.order_data?orderData.order_data.slice(0).reverse().map((nestedArray,index)=>{var _nestedArray$;return/*#__PURE__*/_jsx(\"div\",{children:(_nestedArray$=nestedArray[0])!==null&&_nestedArray$!==void 0&&_nestedArray$.Order_date?/*#__PURE__*/_jsxs(\"div\",{className:\"m-auto mt-5\",children:[nestedArray[0].Order_date,/*#__PURE__*/_jsx(\"hr\",{})]}):nestedArray.map((item,innerIndex)=>/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-md-6 col-lg-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card mt-3\",style:{width:\"16rem\",maxHeight:\"360px\"},children:[/*#__PURE__*/_jsx(\"img\",{src:item.img,className:\"card-img-top\",alt:\"...\",style:{height:\"120px\",objectFit:\"fill\"}}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:item.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"container w-100 p-0\",style:{height:\"38px\"},children:[/*#__PURE__*/_jsx(\"span\",{className:\"m-1\",children:item.img}),/*#__PURE__*/_jsx(\"span\",{className:\"m-1\",children:item.qty}),/*#__PURE__*/_jsx(\"span\",{className:\"m-1\",children:item.size}),/*#__PURE__*/_jsx(\"span\",{className:\"m-1\",children:item.Order_date}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-inline ms-2 h-100 w-20 fs-5\",children:[\"\\u20B9\",item.price,\"/-\"]})]})]})]})},innerIndex))},index);}):/*#__PURE__*/_jsx(\"p\",{children:\"No order data available.\"})})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Footer,{})})]});}","map":{"version":3,"names":["useState","useEffect","React","Navbar","Footer","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MyOrder","orderData","setOrderData","fetchMyOrder","response","fetch","method","headers","body","JSON","stringify","email","localStorage","getItem","data","json","console","log","order_data","error","children","className","slice","reverse","map","nestedArray","index","_nestedArray$","Order_date","item","innerIndex","style","width","maxHeight","src","img","alt","height","objectFit","name","qty","size","price"],"sources":["C:/Users/Subhi/OneDrive/Desktop/FOODIES/the-foodies/src/screens/MyOrder.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport React from \"react\";\r\nimport Navbar from \"../components/Navbar\";\r\nimport Footer from \"../components/Footer\";\r\n\r\nexport default function MyOrder() {\r\n    const [orderData, setOrderData] = useState({});\r\n\r\n    const fetchMyOrder = async () => {\r\n        try {\r\n            const response = await fetch(\"http://localhost:4000/api/MyOrder_data\", {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                },\r\n                body: JSON.stringify({\r\n                    email: localStorage.getItem(\"userEmail\"),\r\n                }),\r\n            });\r\n\r\n            const data = await response.json();\r\n            console.log(data.orderData.order_data);\r\n\r\n            // Check if orderData exists and has order_data property\r\n            if (data.orderData) {\r\n                setOrderData(data.orderData);\r\n            } else {\r\n                setOrderData([]); // No data available\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error fetching data:\", error);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchMyOrder();\r\n    }, []);\r\n\r\n    // useEffect(() => {\r\n    //     console.log(\"orderData:\", orderData);\r\n    // }, [orderData]);\r\n\r\n    return (\r\n        <>\r\n            <div>\r\n                <Navbar></Navbar>\r\n            </div>\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    {orderData && orderData.order_data ? (\r\n                        orderData.order_data\r\n                            .slice(0)\r\n                            .reverse()\r\n                            .map((nestedArray, index) => (\r\n                                <div key={index}>\r\n                                    {/* Assuming the nested array has Order_date property */}\r\n                                    {nestedArray[0]?.Order_date ? (\r\n                                        <div className=\"m-auto mt-5\">\r\n                                            {nestedArray[0].Order_date}\r\n                                            <hr />\r\n                                        </div>\r\n                                    ) : (\r\n                                        nestedArray.map((item, innerIndex) => (\r\n                                            <div key={innerIndex} className=\"col-12 col-md-6 col-lg-3\">\r\n                                                <div className=\"card mt-3\" style={{ width: \"16rem\", maxHeight: \"360px\" }}>\r\n                                                    <img\r\n                                                        src={item.img}\r\n                                                        className=\"card-img-top\"\r\n                                                        alt=\"...\"\r\n                                                        style={{ height: \"120px\", objectFit: \"fill\" }}\r\n                                                    />\r\n                                                    <div className=\"card-body\">\r\n\r\n\r\n                                                        <h5 className=\"card-title\">{item.name}</h5>\r\n                                                        <div className=\"container w-100 p-0\" style={{ height: \"38px\" }}>\r\n                                                            <span className=\"m-1\">{item.img}</span>\r\n                                                            <span className=\"m-1\">{item.qty}</span>\r\n                                                            <span className=\"m-1\">{item.size}</span>\r\n                                                            <span className=\"m-1\">{item.Order_date}</span>\r\n                                                            <div className=\"d-inline ms-2 h-100 w-20 fs-5\">\r\n                                                                â‚¹{item.price}/-\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        ))\r\n                                    )}\r\n                                </div>\r\n                            ))\r\n                    ) : (\r\n                        <p>No order data available.</p>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            <div>\r\n                <Footer></Footer>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}