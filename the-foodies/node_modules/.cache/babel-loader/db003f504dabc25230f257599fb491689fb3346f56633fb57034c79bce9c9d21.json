{"ast":null,"code":"import{useState,useEffect}from'react';import React from'react';import Navbar from\"../components/Navbar\";import Footer from\"../components/Footer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function MyOrder(){const[orderData,setOrderData]=useState({});const fetchMyOrder=async()=>{try{const response=await fetch(\"http://localhost:4000/api/MyOrder_data\",{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:localStorage.getItem('userEmail')})});const data=await response.json();// Check if orderData exists and has order_data property\nif(data.orderData){setOrderData(data.orderData);}else{setOrderData([]);// No data available\n}}catch(error){console.error(\"Error fetching data:\",error);}};useEffect(()=>{fetchMyOrder();},[]);useEffect(()=>{console.log(\"orderData:\",orderData);},[orderData]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Navbar,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:orderData&&orderData.order_data?orderData.order_data.slice(0).reverse().map((item,index)=>/*#__PURE__*/_jsx(\"div\",{children:item.Order_date?/*#__PURE__*/_jsxs(\"div\",{className:\"m-auto mt-5\",children:[item.Order_date,/*#__PURE__*/_jsx(\"hr\",{})]}):/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-md-6 col-lg-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card mt-3\",style:{width:\"16rem\",maxHeight:\"360px\"},children:[/*#__PURE__*/_jsx(\"img\",{src:item.img,className:\"card-img-top\",alt:\"...\",style:{height:\"120px\",objectFit:\"fill\"}}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:item.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"container w-100 p-0\",style:{height:\"38px\"},children:[/*#__PURE__*/_jsx(\"span\",{className:\"m-1\",children:item.img}),/*#__PURE__*/_jsx(\"span\",{className:\"m-1\",children:item.qty}),/*#__PURE__*/_jsx(\"span\",{className:\"m-1\",children:item.size}),/*#__PURE__*/_jsx(\"span\",{className:\"m-1\",children:item.Order_date}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-inline ms-2 h-100 w-20 fs-5\",children:[\"\\u20B9\",item.price,\"/-\"]})]})]})]})})},index)):/*#__PURE__*/_jsx(\"p\",{children:\"No order data available.\"})})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Footer,{})})]});}//  const fetchMyOrder = async () => {\n//     console.log(localStorage.getItem('userEmail'))\n//     await fetch(\"http://localhost:4000/api/MyOrder_data\", {\n//         method: 'POST',\n//         headers: {\n//             'Content-Type': 'application/json'\n//         },\n//         body: JSON.stringify({\n//             email: localStorage.getItem('userEmail')\n//         })\n//     }).then(async (res) => {\n//         let response = await res.json()\n//         await setorderData(response)\n//     })\n// }\n{/* <div className='container'>\r\n                <div className='row'>\r\n\r\n                    {Object.keys(orderData).length !== 0 ? Array(orderData).map((data) => {\r\n                        return (\r\n                            data.orderData ?\r\n                                data.orderData.order_data.slice(0).reverse().map((item) => {\r\n                                    return (\r\n                                        item.map((arrayData) => {\r\n                                            return (\r\n                                                <div>\r\n                                                    {arrayData.Order_date ? <div className='m-auto mt-5'>\r\n\r\n                                                        {data = arrayData.Order_date}\r\n                                                        <hr />\r\n                                                    </div> :\r\n\r\n                                                        <div className='col-12 col-md-6 col-lg-3' >\r\n                                                            <div className=\"card mt-3\" style={{ width: \"16rem\", maxHeight: \"360px\" }}>\r\n                                                                <img src={arrayData.img} className=\"card-img-top\" alt=\"...\" style={{ height: \"120px\", objectFit: \"fill\" }} />\r\n                                                                <div className=\"card-body\">\r\n                                                                    <h5 className=\"card-title\">{arrayData.name}</h5>\r\n                                                                    <div className='container w-100 p-0' style={{ height: \"38px\" }}>\r\n                                                                        <span className='m-1'>{arrayData.qty}</span>\r\n                                                                        <span className='m-1'>{arrayData.size}</span>\r\n                                                                        <span className='m-1'>{data}</span>\r\n                                                                        <div className=' d-inline ms-2 h-100 w-20 fs-5' >\r\n                                                                            ₹{arrayData.price}/-\r\n                                                                        </div>\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </div>\r\n\r\n                                                        </div>\r\n\r\n\r\n\r\n                                                    }\r\n\r\n                                                </div>\r\n                                            )\r\n                                        })\r\n\r\n                                    )\r\n                                }) : \"\"\r\n                        )\r\n                    }) : \"\"}\r\n                </div>\r\n\r\n\r\n            </div> */}","map":{"version":3,"names":["useState","useEffect","React","Navbar","Footer","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MyOrder","orderData","setOrderData","fetchMyOrder","response","fetch","method","headers","body","JSON","stringify","email","localStorage","getItem","data","json","error","console","log","children","className","order_data","slice","reverse","map","item","index","Order_date","style","width","maxHeight","src","img","alt","height","objectFit","name","qty","size","price"],"sources":["C:/Users/Subhi/OneDrive/Desktop/FOODIES/the-foodies/src/screens/MyOrder.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport React from 'react'\r\nimport Navbar from \"../components/Navbar\";\r\nimport Footer from \"../components/Footer\";\r\n\r\nexport default function MyOrder() {\r\n\r\n    const [orderData, setOrderData] = useState({})\r\n\r\n    const fetchMyOrder = async () => {\r\n        try {\r\n            const response = await fetch(\"http://localhost:4000/api/MyOrder_data\", {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                    email: localStorage.getItem('userEmail')\r\n                })\r\n            });\r\n\r\n            const data = await response.json();\r\n\r\n            // Check if orderData exists and has order_data property\r\n            if (data.orderData) {\r\n                setOrderData(data.orderData);\r\n            } else {\r\n                setOrderData([]); // No data available\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error fetching data:\", error);\r\n        }\r\n    };\r\n\r\n\r\n    useEffect(() => {\r\n        fetchMyOrder()\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        console.log(\"orderData:\", orderData);\r\n    }, [orderData]);\r\n\r\n\r\n    return (\r\n        <>\r\n            <div>\r\n                <Navbar></Navbar>\r\n            </div>\r\n\r\n            <div className='container'>\r\n                <div className='row'>\r\n                    {orderData && orderData.order_data ? orderData.order_data.slice(0).reverse().map((item, index) => (\r\n                        <div key={index}>\r\n                            {item.Order_date ? (\r\n                                <div className='m-auto mt-5'>\r\n                                    {item.Order_date}\r\n                                    <hr />\r\n                                </div>\r\n                            ) : (\r\n                                <div className='col-12 col-md-6 col-lg-3'>\r\n                                    <div className=\"card mt-3\" style={{ width: \"16rem\", maxHeight: \"360px\" }}>\r\n                                        <img src={item.img} className=\"card-img-top\" alt=\"...\" style={{ height: \"120px\", objectFit: \"fill\" }} />\r\n                                        <div className=\"card-body\">\r\n                                            <h5 className=\"card-title\">{item.name}</h5>\r\n                                            <div className='container w-100 p-0' style={{ height: \"38px\" }}>\r\n                                                <span className='m-1'>{item.img}</span>\r\n                                                <span className='m-1'>{item.qty}</span>\r\n                                                <span className='m-1'>{item.size}</span>\r\n                                                <span className='m-1'>{item.Order_date}</span>\r\n                                                <div className='d-inline ms-2 h-100 w-20 fs-5'>\r\n                                                    ₹{item.price}/-\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    )) : (\r\n                        <p>No order data available.</p>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n\r\n            <div>\r\n                <Footer></Footer>\r\n            </div>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\n\r\n\r\n//  const fetchMyOrder = async () => {\r\n//     console.log(localStorage.getItem('userEmail'))\r\n//     await fetch(\"http://localhost:4000/api/MyOrder_data\", {\r\n//         method: 'POST',\r\n//         headers: {\r\n//             'Content-Type': 'application/json'\r\n//         },\r\n//         body: JSON.stringify({\r\n//             email: localStorage.getItem('userEmail')\r\n//         })\r\n//     }).then(async (res) => {\r\n//         let response = await res.json()\r\n//         await setorderData(response)\r\n//     })\r\n// }\r\n\r\n{/* <div className='container'>\r\n                <div className='row'>\r\n\r\n                    {Object.keys(orderData).length !== 0 ? Array(orderData).map((data) => {\r\n                        return (\r\n                            data.orderData ?\r\n                                data.orderData.order_data.slice(0).reverse().map((item) => {\r\n                                    return (\r\n                                        item.map((arrayData) => {\r\n                                            return (\r\n                                                <div>\r\n                                                    {arrayData.Order_date ? <div className='m-auto mt-5'>\r\n\r\n                                                        {data = arrayData.Order_date}\r\n                                                        <hr />\r\n                                                    </div> :\r\n\r\n                                                        <div className='col-12 col-md-6 col-lg-3' >\r\n                                                            <div className=\"card mt-3\" style={{ width: \"16rem\", maxHeight: \"360px\" }}>\r\n                                                                <img src={arrayData.img} className=\"card-img-top\" alt=\"...\" style={{ height: \"120px\", objectFit: \"fill\" }} />\r\n                                                                <div className=\"card-body\">\r\n                                                                    <h5 className=\"card-title\">{arrayData.name}</h5>\r\n                                                                    <div className='container w-100 p-0' style={{ height: \"38px\" }}>\r\n                                                                        <span className='m-1'>{arrayData.qty}</span>\r\n                                                                        <span className='m-1'>{arrayData.size}</span>\r\n                                                                        <span className='m-1'>{data}</span>\r\n                                                                        <div className=' d-inline ms-2 h-100 w-20 fs-5' >\r\n                                                                            ₹{arrayData.price}/-\r\n                                                                        </div>\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </div>\r\n\r\n                                                        </div>\r\n\r\n\r\n\r\n                                                    }\r\n\r\n                                                </div>\r\n                                            )\r\n                                        })\r\n\r\n                                    )\r\n                                }) : \"\"\r\n                        )\r\n                    }) : \"\"}\r\n                </div>\r\n\r\n\r\n            </div> */}\r\n"],"mappings":"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cAC9C9B,KAAA,QAAKuB,SAAS,CAAC,+BAA+B,CAAAD,QAAA,EAAC,QAC1C,CAACM,IAAI,CAACc,KAAK,CAAC,IACjB,EAAK,CAAC,EACL,CAAC,EACL,CAAC,EACL,CAAC,CACL,CACR,EAxBKb,KAyBL,CACR,CAAC,cACE/B,IAAA,MAAAwB,QAAA,CAAG,0BAAwB,CAAG,CACjC,CACA,CAAC,CACL,CAAC,cAGNxB,IAAA,QAAAwB,QAAA,cACIxB,IAAA,CAACF,MAAM,GAAS,CAAC,CAChB,CAAC,EAER,CAAC,CAEX,CAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAlDC"},"metadata":{},"sourceType":"module","externalDependencies":[]}