{"ast":null,"code":"import React from\"react\";import{useCart,useDispatchCart}from\"../components/ContextReducer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Cart(){let data=useCart();let dispatch=useDispatchCart();if(data.length===0){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"m-5 w-100 text-center fs-3 text-success\",children:\"The Cart is Empty!\"})});}// const handleCheckOut = async () => {\n//   let userEmail = localStorage.getItem(\"userEmail\");\n//   let response = await fetch(\"http://localhost:4000/api/Order_data\", {\n//     method: \"POST\",\n//     headers: {\n//       \"Content-Type\": \"application/json\",\n//     },\n//     body: JSON.stringify({\n//       order_data: data,\n//       email: userEmail,\n//       order_date: new Date().toDateString(),\n//     }),\n//   });\n//   console.log(\"JSON RESPONSE:::::\", response.status);\n//   if (response.status === 200) {\n//     dispatch({ type: \"DROP\" });\n//   }\n// };\nconst handleCheckOut=async()=>{let userEmail=localStorage.getItem(\"userEmail\");let order_date=new Date().toDateString();console.log(order_date,userEmail,\"connected\");try{let response=await fetch(\"http://localhost:4000/api/Order_data\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({order_data:data,email:userEmail,order_date:new Date().toDateString()})});console.log(\"JSON RESPONSE:::::\",response.status);if(response.status===200){dispatch({type:\"DROP\"});}}catch(error){console.error(\"Error during checkout:\",error);}};let totalPrice=data.reduce((total,food)=>total+food.price,0);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container m-auto mt-5 table-responsive table-responsive-sm table-responsive-md\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"table table-hover text-bg-light\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"text-success fs-4\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Option\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Amount\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:data.map((food,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:food.name}),/*#__PURE__*/_jsx(\"td\",{children:food.qty}),/*#__PURE__*/_jsx(\"td\",{children:food.size}),/*#__PURE__*/_jsx(\"td\",{children:food.price}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn p-0\",onClick:()=>{dispatch({type:\"REMOVE\",index:index});},children:\"Delete\"}),\" \"]})]},index))})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"h1\",{className:\"fs-2\",children:[\"Total Price: \",totalPrice,\"/-\"]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn bg-success mt-5\",onClick:handleCheckOut,children:\"Check Out\"})})]})});}","map":{"version":3,"names":["React","useCart","useDispatchCart","jsx","_jsx","jsxs","_jsxs","Cart","data","dispatch","length","children","className","handleCheckOut","userEmail","localStorage","getItem","order_date","Date","toDateString","console","log","response","fetch","method","headers","body","JSON","stringify","order_data","email","status","type","error","totalPrice","reduce","total","food","price","scope","map","index","name","qty","size","onClick"],"sources":["C:/Users/Subhi/OneDrive/Desktop/FOODIES/the-foodies/src/screens/Cart.js"],"sourcesContent":["import React from \"react\";\r\nimport { useCart, useDispatchCart } from \"../components/ContextReducer\";\r\n\r\nexport default function Cart() {\r\n  let data = useCart();\r\n  let dispatch = useDispatchCart();\r\n\r\n  if (data.length === 0) {\r\n    return (\r\n      <div>\r\n        <div className=\"m-5 w-100 text-center fs-3 text-success\">\r\n          The Cart is Empty!\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // const handleCheckOut = async () => {\r\n  //   let userEmail = localStorage.getItem(\"userEmail\");\r\n\r\n  //   let response = await fetch(\"http://localhost:4000/api/Order_data\", {\r\n  //     method: \"POST\",\r\n  //     headers: {\r\n  //       \"Content-Type\": \"application/json\",\r\n  //     },\r\n  //     body: JSON.stringify({\r\n  //       order_data: data,\r\n  //       email: userEmail,\r\n  //       order_date: new Date().toDateString(),\r\n  //     }),\r\n  //   });\r\n\r\n  //   console.log(\"JSON RESPONSE:::::\", response.status);\r\n\r\n  //   if (response.status === 200) {\r\n  //     dispatch({ type: \"DROP\" });\r\n  //   }\r\n  // };\r\n\r\n  const handleCheckOut = async () => {\r\n    let userEmail = localStorage.getItem(\"userEmail\");\r\n    let order_date = new Date().toDateString();\r\n    console.log(order_date, userEmail, \"connected\");\r\n\r\n    try {\r\n      let response = await fetch(\"http://localhost:4000/api/Order_data\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          order_data: data,\r\n          email: userEmail,\r\n          order_date: new Date().toDateString(),\r\n        }),\r\n      });\r\n\r\n      console.log(\"JSON RESPONSE:::::\", response.status);\r\n\r\n      if (response.status === 200) {\r\n        dispatch({ type: \"DROP\" });\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error during checkout:\", error);\r\n    }\r\n  };\r\n\r\n  let totalPrice = data.reduce((total, food) => total + food.price, 0);\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"container m-auto mt-5 table-responsive table-responsive-sm table-responsive-md\">\r\n        <table className=\"table table-hover text-bg-light\">\r\n          <thead className=\"text-success fs-4\">\r\n            <tr>\r\n              <th scope=\"col\">#</th>\r\n              <th scope=\"col\">Name</th>\r\n              <th scope=\"col\">Quantity</th>\r\n              <th scope=\"col\">Option</th>\r\n              <th scope=\"col\">Amount</th>\r\n              <th scope=\"col\"></th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {data.map((food, index) => (\r\n              <tr key={index}>\r\n                <th scope=\"row\">{index + 1}</th>\r\n                <td>{food.name}</td>\r\n                <td>{food.qty}</td>\r\n                <td>{food.size}</td>\r\n                <td>{food.price}</td>\r\n                <td>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn p-0\"\r\n                    onClick={() => {\r\n                      dispatch({ type: \"REMOVE\", index: index });\r\n                    }}\r\n                  >\r\n                    Delete\r\n                  </button>{\" \"}\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n        <div>\r\n          <h1 className=\"fs-2\">Total Price: {totalPrice}/-</h1>\r\n        </div>\r\n        <div>\r\n          <button className=\"btn bg-success mt-5\" onClick={handleCheckOut}>\r\n            Check Out\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}